# Документация API для ContentApiView

## Обзор
API для ContentApiView позволяет клиентам получать категории и их связанный контент с поддержкой пагинации.

## Эндпоинт
### `GET /api/content/`

## Параметры запроса

- **names** (необязательный): Список названий категорий, разделенных запятыми, для фильтрации результатов.
- GET /api/categories/?names=Категория1,Категория2

- **page_size** (необязательный): Количество результатов на странице. По умолчанию 25, максимальное значение — 100.
- GET /api/categories/?page_size=10

- **page** (необязательный): Выбрать страницу.
- GET /api/categories/?page=1

## Ответы

### 200 OK
- **Описание**: Успешное получение категорий.
- **Тело ответа**:
    ```json
    [
    {
        "id": 1,
        "name": "фильм1",
        "contents": [
            {
                "id": 2,
                "title": "фильм",
                "content": "http://localhost:8000/media/content/%24Y/10/08/2024-10-07_15-39-10.png",
                "description": "описание",
                "slug": "F0FQ4KHTD8YAPKCF9B78ALECD9B6RADCV74MJJFY2PK5Z9SYD18ZX13C8OQ6GSSYGUDK1SZDKZIV1LJSU9B11ITN3RBGUV16UOXR5VWJXMMCBMFY1JUN174IF7XF8N3FK4A6JRMAP1J0SNUPNTXSE3",
                "pub_date_time": "2024-10-08T18:49:24.951073Z",
                "categories_content": [
                    1
                ]
            }
        ]
    }
]
    ```

### 404 Not Found
- **Описание**: Категории не найдены, соответствующие указанным названиям.
- **Тело ответа**:
    ```json
    {
    "error": "Категории не найдены"
    }
    ```

### 400 Bad Request
- **Описание**: Предоставлено недопустимое значение размера страницы.
- **Тело ответа**:
    ```json
    {
        "error": "Недопустимое значение для 'page_size': должно быть целым числом."
    }
    ```
  
### 400 Bad Request
- **Описание**: Предоставлено недопустимое значение номера страницы.
- **Тело ответа**:
    ```json
  {
    "detail": "Недопустимая страница".
}
    ```

## Примеры запросов

1. **Получить все категории**
    ```http
    GET api/content/
    ```

2. **Получить конкретные категории по имени**
    ```http
    GET api/content/?names=Категория1,Категория2
    ```

3. **Получить категории с пользовательским размером страницы**
    ```http
    GET api/content/?page_size=50
    ```

## Пагинация
API поддерживает пагинацию. Если набор результатов превышает размер страницы, вы можете навигировать между страницами, 
используя информацию о пагинации, возвращаемую в ответе.

- **page_size**: Количество результатов на странице.
- **total_pages**: Общее количество доступных страниц.
- **current_page**: Номер текущей страницы.

## Примечания
- Убедитесь, что вы обрабатываете возможность получения пустых результатов при запросе по названиям категорий.
- Проверьте параметр `page_size`, чтобы убедиться, что он является целым числом и находится в заданных пределах.